apiVersion: v1
kind: Service
metadata: 
    name: redis
    labels:
       app: redis
       tier: backend
       role: master
spec:
  ports:
    - port: 6379
      targetport: 80
  selector: 
      app: redis
      tier: backend
      role: master
---
apiVersion: apps/v1
kind: Deployment
metadata: 
   name: redis-master
spec:
  selector:
   matchLabels:
     app: redis
     tier: backeend
     role: master
  replicas: 1
  template:
      metadata: 
        - name: redis
          image: redis 
          resources:
            requests: 
             cpu: 100m
             memory: 100Mi
          ports:
           - containerports: 6379
---

apiVersion: v1
kind: Service
metadata:
  name: redis-slave
  labels:
    app: redis-slave
    tier: backend
    role: slave
spec:
   ports:
    - port: 6379
      targetport: 80
   selector:
     matchLabels:
      app: redis
      role: slave
      tier: backend
---

apiVersion: app/v1
kind: Deployment
metadata:
  name: redis-slave
spec:
   selector:
    matchLabels:
     app: redis-slave
     role: slave
     tier: slave
   spec:
     containers:
      - name: redis-slave
        image: gcr.io/google_samples/gb-redisslave:v1
        ports:
         - containerPorts: 6379
---
apiVersion: v1
kind: Service
metadata: 
  name: frontend
  labels:
   app: sample
   tier: frontend
spec:
LoadBalancer:
 type: NodePort
 port:
